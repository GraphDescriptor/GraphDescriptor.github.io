/*! For license information please see main.eb6ccac4.chunk.js.LICENSE.txt */
(this["webpackJsonpgraph-descriptor"]=this["webpackJsonpgraph-descriptor"]||[]).push([[0],{102:function(e,t,n){},104:function(e,t,n){},123:function(e,t,n){},124:function(e,t,n){},125:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(29),c=n.n(i),o=(n(98),n(33)),s=n(8),l=n(28),m=n(79),u=n.n(m),d=n(65),f=(n(99),n(100),n(101),n(102),n(3));function p(e){var t=e.code,n=e.setCode,a=e.language;return Object(f.jsx)(u.a,{value:t,onValueChange:function(e){return n(e)},highlight:function(e){return Object(d.highlight)(e,d.languages[a])},padding:10,className:"simple-code-editor"})}function h(e){var t=e.title;return Object(f.jsx)("div",{style:{height:50,width:"auto",lineHeight:"50px",fontWeight:"bold",borderLeft:"1px solid gray",fontSize:"2em",fontFamily:"Times",color:"#333333",textIndent:20},children:t})}var v=n(73);function b(e){var t=e.codeStr,n=e.setCodeStr,r=e.style,i=e.submit,c=Object(a.useState)(!1),o=Object(s.a)(c,2),m=o[0],u=o[1];return Object(f.jsxs)("div",{style:Object(l.a)(Object(l.a)({},r),{},{minWidth:300,margin:5,display:"flex",flexDirection:"column"}),children:[Object(f.jsx)(h,{title:"Code Editor"}),Object(f.jsxs)("div",{style:{height:"100%",marginTop:5,background:"#f6f6f6",position:"relative"},children:[Object(f.jsx)(p,{code:t,setCode:function(e){u(!0),n(e)},language:"js"}),Object(f.jsx)("div",{style:{position:"absolute",right:0,top:0},children:m?Object(f.jsx)(v.b,{fontSize:28,style:{zIndex:1e3,color:"#3b5fc0",cursor:"pointer",margin:5},onClick:function(e){u(!1),i()}}):Object(f.jsx)(v.a,{style:{color:"#a9b0bc"},fontSize:28})})]})]})}function y(e){var t=e.dataStr,n=e.setDataStr,a=e.style;return Object(f.jsxs)("div",{style:Object(l.a)(Object(l.a)({},a),{},{minWidth:300,margin:5,display:"flex",flexDirection:"column"}),children:[Object(f.jsx)(h,{title:"Data Editor"}),Object(f.jsx)("div",{style:{height:"100%",marginTop:5,background:"#f6f6f6"},children:Object(f.jsx)(p,{code:t,setCode:n,language:"js"})})]})}var g=n(23);function j(e){var t=e.style,n=e.svg,r=Object(a.useRef)();return Object(a.useEffect)((function(){r.current.innerHTML="",n&&r.current.appendChild(n)}),[n]),Object(f.jsxs)("div",{style:t,children:[Object(f.jsx)(h,{title:"Node-Link Diagram"}),Object(f.jsx)("div",{style:{marginTop:10,borderLeft:"1px solid gray"},ref:r})]})}n(104);function x(e){var t=e.style,n=void 0===t?{}:t,a=e.state,r=void 0===a?"":a;return Object(f.jsxs)("div",{style:Object(l.a)({color:"",fontFamily:"Times"},n),children:[r,"\xa0\xa0",Object(f.jsxs)("div",{className:"loader-inner ball-pulse",style:{display:"inline-block"},children:[Object(f.jsx)("div",{style:{background:"black"}}),Object(f.jsx)("div",{style:{background:"black"}}),Object(f.jsx)("div",{style:{background:"black"}})]})]})}var O=n(130),w=n(80),E=n.n(w),k=[{name:"black",vec:[0,0,0]},{name:"silver",vec:[192,192,192]},{name:"grey",vec:[128,128,128]},{name:"white",vec:[255,255,255]},{name:"maroon",vec:[128,0,0]},{name:"red",vec:[255,0,0]},{name:"purple",vec:[128,0,128]},{name:"fuchsia",vec:[255,0,255]},{name:"green",vec:[0,128,0]},{name:"lime",vec:[0,255,0]},{name:"olive",vec:[128,128,0]},{name:"yellow",vec:[255,255,0]},{name:"navy",vec:[0,0,128]},{name:"blue",vec:[0,0,255]},{name:"teal",vec:[0,128,128]},{name:"aqua",vec:[0,255,255]},{name:"orange",vec:[255,165,0]},{name:"aliceblue",vec:[240,248,255]},{name:"antiquewhite",vec:[250,235,215]},{name:"aquamarine",vec:[127,255,212]},{name:"azure",vec:[240,255,255]},{name:"beige",vec:[245,245,220]},{name:"blanchedalmond",vec:[255,228,196]},{name:"blueviolet",vec:[138,43,226]},{name:"brown",vec:[165,42,42]},{name:"burlywood",vec:[222,184,135]},{name:"cadetblue",vec:[95,158,160]},{name:"chartreuse",vec:[127,255,0]},{name:"chocolate",vec:[210,105,30]},{name:"coral",vec:[255,127,80]},{name:"cornflowerblue",vec:[100,149,237]},{name:"cornsilk",vec:[255,248,220]},{name:"crimson",vec:[220,20,60]},{name:"darkblue",vec:[0,0,139]},{name:"darkcyan",vec:[0,139,139]},{name:"darkgoldenrod",vec:[184,134,11]},{name:"darkgrey",vec:[169,169,169]},{name:"darkgreen",vec:[0,100,0]},{name:"darkkhaki",vec:[189,183,107]},{name:"darkmagenta",vec:[139,0,139]},{name:"darkolivegreen",vec:[85,107,47]},{name:"darkorange",vec:[255,140,0]},{name:"darkorchid",vec:[153,50,204]},{name:"darkred",vec:[139,0,0]},{name:"darksalmon",vec:[233,150,122]},{name:"darkseagreen",vec:[143,188,143]},{name:"darkslateblue",vec:[72,61,139]},{name:"darkslategrey",vec:[47,79,79]},{name:"darkturquoise",vec:[0,206,209]},{name:"darkviolet",vec:[148,0,211]},{name:"deeppink",vec:[255,20,147]},{name:"deepskyblue",vec:[0,191,255]},{name:"dimgrey",vec:[105,105,105]},{name:"dodgerblue",vec:[30,144,255]},{name:"firebrick",vec:[178,34,34]},{name:"floralwhite",vec:[255,250,240]},{name:"forestgreen",vec:[34,139,34]},{name:"gainsboro",vec:[220,220,220]},{name:"ghostwhite",vec:[248,248,255]},{name:"gold",vec:[255,215,0]},{name:"goldenrod",vec:[218,165,32]},{name:"greenyellow",vec:[173,255,47]},{name:"honeydew",vec:[240,255,240]},{name:"hotpink",vec:[255,105,180]},{name:"indianred",vec:[205,92,92]},{name:"indigo",vec:[75,0,130]},{name:"ivory",vec:[255,255,240]},{name:"khaki",vec:[240,230,140]},{name:"lavender",vec:[230,230,250]},{name:"lavenderblush",vec:[255,240,245]},{name:"lawngreen",vec:[124,252,0]},{name:"lemonchiffon",vec:[255,250,205]},{name:"lightblue",vec:[173,216,230]},{name:"lightcoral",vec:[240,128,128]},{name:"lightcyan",vec:[224,255,255]},{name:"lightgoldenrodyellow",vec:[250,250,210]},{name:"lightgrey",vec:[211,211,211]},{name:"lightgreen",vec:[144,238,144]},{name:"lightpink",vec:[255,182,193]},{name:"lightsalmon",vec:[255,160,122]},{name:"lightseagreen",vec:[32,178,170]},{name:"lightskyblue",vec:[135,206,250]},{name:"lightslategrey",vec:[119,136,153]},{name:"lightsteelblue",vec:[176,196,222]},{name:"lightyellow",vec:[255,255,224]},{name:"limegreen",vec:[50,205,50]},{name:"linen",vec:[250,240,230]},{name:"mediumaquamarine",vec:[102,205,170]},{name:"mediumblue",vec:[0,0,205]},{name:"mediumorchid",vec:[186,85,211]},{name:"mediumpurple",vec:[147,112,219]},{name:"mediumseagreen",vec:[60,179,113]},{name:"mediumslateblue",vec:[123,104,238]},{name:"mediumspringgreen",vec:[0,250,154]},{name:"mediumturquoise",vec:[72,209,204]},{name:"mediumvioletred",vec:[199,21,133]},{name:"midnightblue",vec:[25,25,112]},{name:"mintcream",vec:[245,255,250]},{name:"mistyrose",vec:[255,228,225]},{name:"moccasin",vec:[255,228,181]},{name:"navajowhite",vec:[255,222,173]},{name:"oldlace",vec:[253,245,230]},{name:"olivedrab",vec:[107,142,35]},{name:"orangered",vec:[255,69,0]},{name:"orchid",vec:[218,112,214]},{name:"palegoldenrod",vec:[238,232,170]},{name:"palegreen",vec:[152,251,152]},{name:"paleturquoise",vec:[175,238,238]},{name:"palevioletred",vec:[219,112,147]},{name:"papayawhip",vec:[255,239,213]},{name:"peachpuff",vec:[255,218,185]},{name:"peru",vec:[205,133,63]},{name:"pink",vec:[255,192,203]},{name:"plum",vec:[221,160,221]},{name:"powderblue",vec:[176,224,230]},{name:"rosybrown",vec:[188,143,143]},{name:"royalblue",vec:[65,105,225]},{name:"saddlebrown",vec:[139,69,19]},{name:"salmon",vec:[250,128,114]},{name:"sandybrown",vec:[244,164,96]},{name:"seagreen",vec:[46,139,87]},{name:"seashell",vec:[255,245,238]},{name:"sienna",vec:[160,82,45]},{name:"skyblue",vec:[135,206,235]},{name:"slateblue",vec:[106,90,205]},{name:"slategrey",vec:[112,128,144]},{name:"snow",vec:[255,250,250]},{name:"springgreen",vec:[0,255,127]},{name:"steelblue",vec:[70,130,180]},{name:"tan",vec:[210,180,140]},{name:"thistle",vec:[216,191,216]},{name:"tomato",vec:[255,99,71]},{name:"turquoise",vec:[64,224,208]},{name:"violet",vec:[238,130,238]},{name:"wheat",vec:[245,222,179]},{name:"whitesmoke",vec:[245,245,245]},{name:"yellowgreen",vec:[154,205,50]},{name:"rebeccapurple",vec:[102,51,153]}];function N(e){var t=E()(e),n=Object(s.a)(t,4),a=n[0],r=n[1],i=n[2],c=(n[3],Number.MAX_VALUE),o="black";return k.forEach((function(e){var t=Object(s.a)(e.vec,3),n=t[0],l=t[1],m=t[2],u=Math.pow(a-n,2)+Math.pow(r-l,2)+Math.pow(i-m,2);u<c&&(c=u,o=e.name)})),o}function S(e){var t=e.term,n=e.visibleElements;return Object(f.jsx)("p",{style:{margin:0,padding:2,fontFamily:"Times"},onMouseOver:function(e){e.target.style.backgroundColor="#e9e9e9",n.forEach((function(e){g.select(e).attr("opacity",.1)})),t.elements.forEach((function(e){g.select(e).attr("opacity",1)}))},onMouseLeave:function(e){e.target.style.backgroundColor="#fff",n.forEach((function(e){g.select(e).attr("opacity",1)}))},dangerouslySetInnerHTML:{__html:t.content}})}function M(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=[];return e.forEach((function(e,i){var c="".concat(a,"-").concat(i);e.switch&&n.push(c),r.push({title:Object(f.jsx)(S,{visibleElements:t,term:e}),key:c,children:Array.isArray(e.children)&&e.children.length>0?M(e.children,t,n,c):null})})),r}function I(e){var t=e.graphDescriptions,n=e.visibleElements,a=e.loadingText,r=e.loading,i=[],c=[];return!r&&t&&t.length&&(i=M(t,n,c)),Object(f.jsx)("div",{style:{margin:20},children:!r&&t&&t.length?Object(f.jsx)(O.a,{selectable:!1,treeData:i,defaultExpandedKeys:c}):Object(f.jsx)(x,{style:{margin:20,marginLeft:28,padding:2,fontFamily:"Times"},state:a})})}var A=n(128);function T(e){var t=e.style,n=e.linkConditions,a=e.graphDescriptions,r=e.layoutDescriptions,i=e.visibleElements,c=e.loading,o=function(e){if(!Array.isArray(e)||0===e.length)return"";var t=e.slice().sort((function(e,t){return t.coverage-e.coverage}))[0];return"common"===t.relation?"Two nodes are connected if their attributes <span class='description-parameter'>".concat(t.attribute,"</span> are with a same value").concat("@@any"===t.value?"":": <span class='description-parameter attribute-parameter'>".concat(t.value,"</span>"),"."):"overlap"===t.relation?"Two nodes are connected if their attributes <span class='description-parameter attribute-parameter'>".concat(t.attribute,"</span> have common values").concat("@@any"===t.value?"":": <span class='description-parameter attribute-parameter'>".concat(t.value,"</span>"),"."):"similar"===t.relation?"Two nodes are connected if their attributes <span class='description-parameter attribute-parameter'>".concat(t.attribute,"</span> are close, maybe with a difference less than: <span class='description-parameter'>").concat(t.value,"</span>."):"same-bin"===t.relation?"Two nodes are connected if their attributes <span class='description-parameter attribute-parameter'>".concat(t.attribute,"</span> are within the same bin").concat("@@any"===t.value?"":": <span class='description-parameter attribute-parameter'>".concat(t.value,"</span>"),"."):void 0}(n);return Object(f.jsxs)("div",{style:Object(l.a)(Object(l.a)({},t),{},{margin:5,display:"flex",flexDirection:"column"}),children:[Object(f.jsx)(h,{title:"Descriptions"}),Object(f.jsxs)("div",{style:{borderLeft:"1px solid gray",paddingLeft:10},children:[Object(f.jsx)(A.a,{orientation:"left",style:{fontFamily:"Times"},children:"Linking Condition"}),c?Object(f.jsx)(x,{style:{margin:20,marginLeft:48,padding:2,fontFamily:"Times"},state:"Computing Linking Condition"}):Object(f.jsx)("div",{style:{margin:20,marginLeft:48,padding:2,fontFamily:"Times"},dangerouslySetInnerHTML:{__html:o}}),Object(f.jsx)(A.a,{orientation:"left",style:{fontFamily:"Times"},children:"Visual Encoding"}),Object(f.jsx)(I,{loading:c,graphDescriptions:a,visibleElements:i,loadingText:"Computing Visual Encoding"}),Object(f.jsx)(A.a,{orientation:"left",style:{fontFamily:"Times"},children:"Layout Meaning"}),Object(f.jsx)(I,{loading:c,graphDescriptions:r,visibleElements:i,loadingText:"Computing Layout Meaning"})]})]})}var D=n(16),C=n.n(D),L=n(87),q={miserables:{data:"miserables/miserables_5.json",code:"miserables/code.js"},nodeEncoding:{data:"nodeEncoding/data.json",code:"nodeEncoding/code.js"},"imdb-movies":{data:"imdb-movies-raw/data.json",code:"imdb-movies-raw/code.js",preload:"imdb-movies-raw/preload.json"},"imdb-actors":{data:"imdb-actors-raw/data.json",code:"imdb-actors-raw/code.js",preload:"imdb-actors-raw/preload.json"},"imdb-movies-link":{data:"imdb-movies-link/data.json",code:"imdb-movies-link/code.js",preload:"imdb-movies-link/preload.json"},"imdb-movies-shapes":{data:"imdb-movies-shapes/data.json",code:"imdb-movies-shapes/code.js",preload:"imdb-movies-shapes/preload.json"}};function F(){return(F=Object(L.a)(C.a.mark((function e(t){var n,a,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("data/".concat(q[t].data)).then((function(e){return e.text()}));case 3:return n=e.sent,e.next=6,fetch("data/".concat(q[t].code)).then((function(e){return e.text()}));case 6:return a=e.sent,e.next=9,fetch("data/".concat(q[t].preload)).then((function(e){return e.json()}));case 9:return r=e.sent,e.abrupt("return",{dataStr:n,codeStr:a,preload:r});case 13:return e.prev=13,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{dataStr:"",codeStr:"",preload:null});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}var V=n(21);function _(e){for(var t=[],n=0,a=Object.entries(e.nodes[0]);n<a.length;n++){var r=Object(s.a)(a[n],2),i=r[0],c=r[1];"number"===typeof c?t.push({name:i,type:"numerical"}):"string"===typeof c?t.push({name:i,type:"categorical"}):Array.isArray(c)&&t.push({name:i,type:"list"})}return t.forEach((function(t){if("numerical"===t.type){var n=function(e,t){var n=e.nodes.map((function(e){return e[t]}));return n.sort((function(e,t){return e-t})),{min:n[0],max:n[n.length-1],q1:n[parseInt(.25*n.length)],q3:n[parseInt(.75*n.length)]}}(e,t.name),a=n.min,r=n.max,i=n.q1,c=n.q3;t.min=a,t.max=r,t.q1=i,t.q3=c}})),t}var W=n(36),z=n(5);function B(e,t,n){var a={};return n.forEach((function(n){a[n.name]={};var r=e[n.name],i=t[n.name];if(void 0!==r&&void 0!==i){if("categorical"===n.type)r===i&&(a[n.name].common=a[n.name].common||{},a[n.name].common[r]=1,a[n.name].common["@@any"]=1);else if("list"===n.type){var c=(d=i,r.filter((function(e){return d.includes(e)})).sort());if(0===c.length)return void delete a[n.name];a[n.name].overlap=a[n.name].common||{},a[n.name].overlap["@@any"]=1;var o,s=function(e){var t,n=[[]],a=Object(z.a)(e);try{for(a.s();!(t=a.n()).done;){var r,i=t.value,c=[].concat(n),o=Object(z.a)(c);try{for(o.s();!(r=o.n()).done;){var s=r.value;n.push(s.concat(i))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){a.e(l)}finally{a.f()}return n}(c),l=Object(z.a)(s);try{for(l.s();!(o=l.n()).done;){var m=o.value.join("-");m&&(a[n.name].overlap[m]=1)}}catch(f){l.e(f)}finally{l.f()}}else if("numerical"===n.type){if(function(e,t,n){return e===t?0:Math.abs(e-t)/(n.max-n.min)}(r,i,n)<.3){var u=Math.abs(r-i);a[n.name].similar=u,r===i&&(a[n.name].common=a[n.name].common||{},a[n.name].common[r]=1,a[n.name].common["@@any"]=1)}r<n.q1&&i<n.q1?(a[n.name]["same-bin"]=a[n.name]["same-bin"]||{},a[n.name]["same-bin"].low=1,a[n.name]["same-bin"]["@@any"]=1):r>=n.q1&&r<=n.q3&&i>=n.q1&&i<=n.q3?(a[n.name]["same-bin"]=a[n.name]["same-bin"]||{},a[n.name]["same-bin"].middle=1,a[n.name]["same-bin"]["@@any"]=1):r>n.q3&&i>n.q3&&(a[n.name]["same-bin"]=a[n.name]["same-bin"]||{},a[n.name]["same-bin"].high=1,a[n.name]["same-bin"]["@@any"]=1)}var d;0===Object.keys(a[n.name]).length&&delete a[n.name]}else delete a[n.name]})),a}function P(e,t){var n=Object.assign({},e);for(var a in t)if(a in n)for(var r in t[a])if(r in n[a])if("similar"===r)n[a][r]=Math.min(n[a][r],t[a][r]);else for(var i in t[a][r])i in n[a][r]?n[a][r][i]+=t[a][r][i]:n[a][r][i]=t[a][r][i];else n[a][r]=t[a][r];else n[a]=t[a];return n}function X(e,t){var n=Object.assign({},e);for(var a in t)if(a in n)for(var r in t[a])if(r in n[a])for(var i in t[a][r])i in n[a][r]?n[a][r][i]+=t[a][r][i]:n[a][r][i]=t[a][r][i];else n[a][r]=t[a][r];else n[a]=t[a];return n}function H(e,t){var n=Object.assign({},e);for(var a in t)if(a in n){for(var r in t[a])if(r in n[a])if("number"===typeof n[a][r])n[a][r]>=t[a][r]?delete n[a][r]:n[a][r]=Object(W.a)({},t[a][r],1);else{for(var i in t[a][r])i in n[a][r]&&delete n[a][r][i];0===Object.keys(n[a][r]).length&&delete n[a][r]}0===Object.keys(n[a]).length&&delete n[a]}return n}var Y=n(26),G=n(27),J="NUMERICAL",R="CATEGORICAL",U=function(e){for(var t=e.attributes,n=Object.assign({},ae),a=0;a<t.length;a++){var r=t[a].name,i=t[a].value;n[r]=i}var c={},o=re.get(e.tagName);if(o){if("circle"==e.tagName||"ellipse"==e.tagName){var s=[e.cx.baseVal.value,e.cy.baseVal.value],m=s[0],u=s[1];c=Object(l.a)(Object(l.a)({},c),{},{cx:m,cy:u})}else if("line"==e.tagName){var d=[e.x1.baseVal.value,e.y1.baseVal.value],f=d[0],p=d[1],h=[e.x2.baseVal.value,e.y2.baseVal.value],v=h[0],b=h[1];c=Object(l.a)(Object(l.a)({},c),{},{x1:f,y1:p,x2:v,y2:b})}else if("rect"==e.tagName){var y=[e.x.baseVal.value,e.y.baseVal.value],g=y[0],j=y[1];c=Object(l.a)(Object(l.a)({},c),{},{x:g,y:j})}else if("polygon"===e.tagName||"polyline"===e.tagName){var x=Array.from(e.points).map((function(e){return[e.x,e.y]}));x.forEach((function(e,t){c["points[".concat(t,"]['x']")]=x[0],c["points[".concat(t,"]['y']")]=x[1]}))}else e.tagName;return o.forEach((function(e){c[e]=n[e]})),c}},K={isEqual:function(e,t){var n=this;if(typeof e!==typeof t)return!1;if("string"==typeof e||"number"==typeof e||"undefined"==typeof e||"boolean"==typeof e)return e==t;if("object"==typeof e){if(Array.isArray(e)&&Array.isArray(t))return e.length==t.length&&e.every((function(a,r){return n.isEqual(e[r],t[r])}));if(Array.isArray(e)||Array.isArray(t))return!1;var a=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(t);if(a.length!=r.length)return!1;for(var i=0;i<a.length;i++){var c=a[i];if(!this.isEqual(e[c],t[c]))return!1}return!0}console.error("Not supported type: ".concat(typeof e))},deepcopy:function(e){return JSON.parse(JSON.stringify(e))},dfs:function(e,t){for(var n=[],a=e;a;)if(t(a),a.children&&a.children.length){var r=Array.from(a.children),i=r.pop();r.forEach((function(e){return n.push(e)})),a=i}else a=n.pop()}},$=function(e){var t=new Map,n=new Map;return e.nodes.forEach((function(e){var n=function(n){"object"==typeof e[n]?Object.entries(e[n]).forEach((function(a){var r=Object(s.a)(a,2),i=r[0],c=(r[1],"".concat(n).concat("@").concat(i));t.has(c)?t.get(c).push(e[n][i]):t.set(c,[e[n][i]])})):te.has(typeof e[n])>=0&&(t.has(n)?t.get(n).push(e[n]):t.set(n,[e[n]]))};for(var a in e)n(a)})),e.links.forEach((function(e){for(var t in e)n.has(t)?n.get(t).push(e[t]):n.set(t,[e[t]])})),t.delete("id"),n.delete("source"),n.delete("target"),t.forEach((function(e,n){t.set(n,a(e))})),n.forEach((function(e,t){n.set(t,a(e))})),{nodes:t,links:n};function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=[],a=!0,r=J;return e.forEach((function(e){n.push(e),"number"!==typeof e&&(a=!1)})),(!a||n.length<=t)&&(r=R),{type:r,range:n}}};function Q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"and",n="";return 1==e.length?e[0]:2==e.length?"from ".concat(e[0]," to ").concat(e[1]):(e.forEach((function(a,r){n+=a,r<e.length-1&&(r==e.length-2?n+=", ".concat(t," "):n+=", ")})),n)}function Z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"and",n="";return 1==e.length?e[0]:2==e.length?e.join(" ".concat(t," ")):(e.forEach((function(a,r){n+=a,r<e.length-1&&(r==e.length-2?n+=", ".concat(t," "):n+=", ")})),n)}function ee(e){var t,n=["zeroth","first","second","third","fourth","fifth","sixth","seventh","eighth","ninth","tenth","eleventh","twelfth","thirteenth","fourteenth","fifteenth","sixteenth","seventeenth","eighteenth","nineteenth"],a=["twent","thirt","fort","fift","sixt","sevent","eight","ninet"];return(t=e)<20?n[t]:t%10===0?a[Math.floor(t/10)-2]+"ieth":a[Math.floor(t/10)-2]+"y-"+n[t%10]}var te=new Set(["string","number","undefined","boolean"]),ne=new Set(["fill","fill-opacity","stroke","stroke-dasharray","stroke-opacity","stroke-width"]),ae=(new Map([["circle",new Set(["cx","cy"])],["ellipse",new Set(["cx","cy"])],["line",new Set(["x1","x2","y1","y2"])],["polygon",new Set(["points"])],["polyline",new Set(["points"])],["rect",new Set(["x","y"])],["path",new Set([])]]),{fill:"#000000","fill-opacity":1,stroke:"#000000","stroke-dasharray":"none","stroke-opacity":1,rx:"auto",ry:"auto"}),re=new Map([["circle",["r"]],["ellipse",["rx","ry"]],["line",[]],["polygon",[]],["polyline",[]],["rect",["width","height","rx","ry"]],["path",[]]]);re.forEach((function(e,t){e=e.concat(Object(o.a)(ne)),re.set(t,new Set(e))}));var ie=new Set(["rx","ry","cx","cy","points"]),ce={constituent:function(e,t){return function(e,n){return"Each ".concat(e," consists of ").concat(t>1?"":"only"," ").concat(n," ").concat(t>1?"different":""," element").concat(t>1?"s":"",".")}},onePrimitive:function(e){return function(t,n){return e>1?"The ".concat(t," element is a ").concat(n,"."):"It is a ".concat(n,".")}},multiPrimitive:function(e){return function(t,n){return e>1?"For the ".concat(t," element, its <span class='description-parameter channel-parameter'>tagName</span> varies among multiple shapes: ").concat(Q(n),"."):"Its <span class='description-parameter channel-parameter'>tagName</span> varies among multiple shapes: ".concat(Q(n),".")}},multiPrimitiveTagName:function(e){return function(t,n){for(var a=arguments.length,r=new Array(a>2?a-2:0),i=2;i<a;i++)r[i-2]=arguments[i];return r.sort(),"max"in e&&"min"in e?"When the value of ".concat(n," is from ").concat(r[0]," to ").concat(r[1],", its <span class='description-parameter channel-parameter'>tagName</span> is changed into ").concat(t,"."):"When the value of ".concat(n," is ").concat(Z(r,"or"),", its <span class='description-parameter channel-parameter'>tagName</span> is changed into ").concat(t,".")}},channels2attribute:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t,n){return"".concat(e?"I":"i","ts ").concat(Z(t)," encode").concat(t.length>1?"":"s"," the attribute ").concat(n,".")}},samePrimitive:function(e){return function(t,n,a){return e.length>1?"For the ".concat(t," to ").concat(n," elements, its encoding scheme is same to the ").concat(a," element."):"For the ".concat(t," element, its encoding scheme is same to the ").concat(a," element.")}},correlationC2C:function(e,t,n,a){return"When the value of ".concat(t," is ").concat(Z(a.sort(),"or"),", its ").concat(e," is changed into ").concat(n,".")},correlationN2C:function(e,t,n,a,r){return"When the value of ".concat(t," is from ").concat(a," to ").concat(r,", its ").concat(e," is changed into ").concat(n,".")},correlationN2N:function(e){return function(t,n){return"The greater ".concat(n,", the ").concat(e?"greater\ud83d\udcc8":"smaller\ud83d\udcc9"," its ").concat(t,".")}},correlationUndefined:function(e,t){return"The correlation between ".concat(e," and ").concat(t," can not be determined yet.")}},oe={entity:"entity-parameter",element:"element-parameter",channel:"channel-parameter",attribute:"attribute-parameter",value:"value-parameter"},se=function(){function e(){Object(Y.a)(this,e),this.array=[]}return Object(G.a)(e,[{key:"isItemEmpty",value:function(e){return!(null===e||void 0===e?void 0:e.tagName)&&!((null===e||void 0===e?void 0:e.style)&&Object.keys(e.style).length>0)}},{key:"isEmpty",value:function(){return this.array.every(this.isItemEmpty)}},{key:"getIndexOfDifferences",value:function(){var e=this,t=[];return this.array.forEach((function(n,a){e.isItemEmpty(n)||t.push(a)})),t}},{key:"eliminate",value:function(e){var t=e.array;this.array.forEach((function(e,n){var a=t[n];if(e.tagName&&a.tagName&&delete e.tagName,e.style)for(var r in e.style)a.style&&a.style[r]&&delete e.style[r]}))}}]),e}(),le=function(){function e(t){if(Object(Y.a)(this,e),t){this.osvg=t;var n=[];K.dfs(t,(function(e){if(re.has(e.tagName)){var t=U(e);n.push({tagName:e.tagName,element:e,style:t})}})),this.basicElementArray=n}}return Object(G.a)(e,[{key:"diffWith",value:function(e){for(var t=this,n=new se,a=Math.min(this.basicElementArray.length,e.basicElementArray.length),r=function(a){var r=t.basicElementArray[a],i=e.basicElementArray[a],c=void 0,o=void 0;r.tagName==i.tagName?o=new Set(Object.keys(r.style).concat(Object.keys(i.style))):(c={tagName:!0},o=ne),o.forEach((function(e){var t;K.isEqual(r.style[e],i.style[e])||(c||(c={style:{}}),c.style=null!==(t=c.style)&&void 0!==t?t:{},c.style[e]=!0)})),n.array.push(c)},i=0;i<a;i++)r(i);return n}}]),e}();function me(e,t){var n=new le(e),a=new le(t);return n.diffWith(a)}var ue=n(62);function de(e,t){for(var n=[],a=0;a<e.length;a++)n.push({x:e[a],y:t[a]});return new ue.Statistics(n,{x:"metric",y:"metric"}).correlationCoefficient("x","y").correlationCoefficient}function fe(e){for(var t=0;t<e.length;t++)if(isNaN(parseFloat(e[t])))return{first:"categorical",second:null};return e.length<=5&&e.every((function(e){return Number.isInteger(e)}))||new Set(e).size<.3*e.length?{first:"categorical",second:"numerical"}:{first:"numerical",second:null}}function pe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.6,a=fe(e),r=fe(t);if(("numerical"===a.first||"numerical"===a.second)&&("numerical"===r.first||"numerical"===r.second)){var i=de(e=e.map((function(e){return parseFloat(e)})),t=t.map((function(e){return parseFloat(e)})));if(Math.abs(i)>n)return{typeX:"numerical",typeY:"numerical",correlation:i}}if(a=a.first,r=r.first,"numerical"===a&&"numerical"===r){var c=de(e=e.map((function(e){return parseFloat(e)})),t=t.map((function(e){return parseFloat(e)})));return{typeX:a,typeY:r,correlation:c}}if("categorical"===r){if("categorical"===a){for(var o={},s=0;s<e.length;s++)o[t[s]]||(o[t[s]]=new Set),o[t[s]].add(e[s]);for(var l in o)o[l]=Array.from(o[l]);return{typeX:a,typeY:r,attributeMapping:o}}for(var m={},u=0;u<e.length;u++)m[t[u]]||(m[t[u]]={min:Number.MAX_VALUE,max:Number.MIN_VALUE}),m[t[u]].min=Math.min(m[t[u]].min,e[u]),m[t[u]].max=Math.max(m[t[u]].max,e[u]);return{typeX:a,typeY:r,attributeMapping:m}}}function he(e){var t=function(e){var t=e.nodes.length,n={};e.nodes.forEach((function(e,t){n[e.id]=t}));var a=Array(t).fill().map((function(){return Array(t).fill(0)}));e.nodes.forEach((function(t,n){e.nodes.forEach((function(e,r){n!==r&&(a[n][r]=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)))}))}));for(var r=Array(t).fill().map((function(){return Array(t).fill(1/0)})),i=0;i<t;++i)r[i][i]=0;for(var c=0;c<e.links.length;++c){var o=n[e.links[c].source],s=n[e.links[c].target];r[o][s]=1,r[s][o]=1}for(var l=0;l<t;++l)for(var m=0;m<t;++m)for(var u=0;u<t;++u)r[m][l]+r[l][u]<r[m][u]&&(r[m][u]=r[m][l]+r[l][u]);return{euclidMatrix:a,floydMatrix:r}}(e),n=t.euclidMatrix,a=t.floydMatrix,r=n.length;a=a.flat(),n=n.flat();for(var i=[],c=0;c<a.length;c++)i.push({floyd:a[c],euclid:n[c]});i.sort((function(e,t){return e.floyd-t.floyd}));var o=i.slice(r);return new ue.Statistics(o,{floyd:"metric",euclid:"metric"}).correlationCoefficient("floyd","euclid").correlationCoefficient}function ve(e,t,n,a,r){var i,c=me(t(g,K.deepcopy(e)),t(g,K.deepcopy(e))),o=$(e),l=t(g,K.deepcopy(e)),m=new le(l),u={},d=Object(z.a)(o[n].entries());try{var f=function(){var a=Object(s.a)(i.value,2),o=a[0],l=a[1],d=(l.type,l.range),f=K.deepcopy(e),p=g.shuffle(d.slice());f[n].forEach((function(e,t){o.indexOf("@")>0?e[o.split("@")[0]][o.split("@")[1]]=p[t]:e[o]=p[t]}));var h=t(g,f),v=new le(h),b=m.diffWith(v);if(c.isEmpty()||b.eliminate(c),b.isEmpty())return"continue";b.array.forEach((function(e,t){if(e){var n=r[t];if(void 0!=n&&"undefined"!=n){var a,i;u[n]=null!==(a=u[n])&&void 0!==a?a:{};var c=u[n];c[o]=null!==(i=c[o])&&void 0!==i?i:{},e.style&&Object.keys(e.style).forEach((function(n){if(ie.has(n)){var a=v.basicElementArray[t].tagName;e.style[n+"."+a]=e.style[n],delete e.style[n]}})),c[o]=function(e,t){var n={};return[e,t].forEach((function(e){if(e.tagName&&(n.tagName|=e.tagName),e.style)for(var t in e.style){var a;n.style=null!==(a=n.style)&&void 0!==a?a:{},n.style[t]|=e.style[t]}})),n}(e,c[o])}}}))};for(d.s();!(i=d.n()).done;)f()}catch(x){d.e(x)}finally{d.f()}var p={},h=[];for(var v in r.forEach((function(e,t){p[e]||(p[e]=new Set),p[e].add(t)})),a.forEach((function(e,t){e.forEach((function(e){h[e]=t}))})),u){var b=u[v],y=function(t){var a=b[t],r=[];if(a.tagName&&r.push("tagName"),a.style)for(var i in a.style)a.style[i]&&r.push(i);var c={};r.forEach((function(e){c[e]=[]})),p[v].forEach((function(a){var i=h[a],o=m.basicElementArray[a],s=e[n][i][t];t.indexOf("@")>0&&(s=e[n][i][t.split("@")[0]][t.split("@")[1]]),r.forEach((function(e){c[e][i]="tagName"===e?[s,o.tagName]:[s,o.style[e.split(".")[0]]]}))}));for(var o=0;o<r.length;o++){var l=r[o];c[l]=c[l].filter((function(e){var t=Object(s.a)(e,2),n=(t[0],t[1]);return void 0!==n&&"auto"!==n&&"undefined"!==n}));var u=pe(c[l].map((function(e){return e[0]})),c[l].map((function(e){return e[1]})));u&&("numerical"===u.typeX&&u.typeY,"tagName"===l?a.tagName=u:a.style[l]=u)}};for(var j in b)y(j)}return u}function be(e,t,n){var a=me(t(g,K.deepcopy(e)),t(g,K.deepcopy(e))),r=new Array(e[n].length),i=t(g,K.deepcopy(e)),c=[];c.max=0;for(var o=new Map,l=function(l){console.log("%c For %c".concat(n,"%c's attribute, computing %c").concat(n,"%c[%c").concat(l,"/").concat(e[n].length,"%c]'s encoding..."),"background: #222; color: #bada55","background: #222; color: #d94e54","background: #222; color: #bada55","background: #222; color: #d94e54","background: #222; color: #bada55","background: #222; color: #d94e54","background: #222; color: #bada55");var m=K.deepcopy(e),u=m[n][l],d=i,f=p(u,m);function p(e,t){var a=[],r=[];function i(t){return!Object.keys(e).some((function(n){return"id"!==n&&"source"!==n&&"target"!==n&&!K.isEqual(e[n],t[n])}))}return t[n].forEach((function(e,t){i(e)||r.every((function(e){return!i(e)}))&&a.push(t)})),a}if(0==f.length)console.error("All entities have same attribute, algorithm can not detect any encoding.");else if(1==f.length){var h=f[0];m[n][l]=m[n][h],m[n][h]=u,1==(f=p(u=m[n][l],m)).length?console.error("Cannot deal with ".concat(n,"[").concat(l,"], only one ").concat(n.slice(0,-1)," diffs with it.")):d=t(g,K.deepcopy(m))}var v={},b=new le(d);f.forEach((function(e){var i,d,f,p=m[n][e];m[n][l]=p,m[n][e]=u,u=m[n][l];var h="".concat(e).concat("\u2192").concat(l);if(o.has(h)){var y=o.get(h),j=Object(s.a)(y,3);i=j[0],d=j[1],f=j[2]}if(!i&&!d&&!f){i=b;var x=t(g,K.deepcopy(m));d=new le(x);var O=i.diffWith(d);a.isEmpty()||O.eliminate(a),f=O.getIndexOfDifferences(),o.set("".concat(l).concat("\u2192").concat(e),[i,d,f])}f.forEach((function(e){v[e]||(v[e]=0),v[e]+=1,v[e]>=2&&(r[l]||(r[l]=new Set),r[l].add(e)),f.forEach((function(t){e!==t&&K.isEqual({style:i.basicElementArray[e].style,tagName:i.basicElementArray[e].tagName},{style:d.basicElementArray[t].style,tagName:d.basicElementArray[t].tagName})&&(c[e]&&!c[t]?c[t]=c[e]:!c[e]&&c[t]?c[e]=c[t]:c[e]||c[t]?(c[e],c[t]):c[e]=c[t]=++c.max)}))})),m[n][l]=m[n][e],m[n][e]=u,u=m[n][l]}))},m=0;m<e[n].length;m++)l(m);return[r,c]}function ye(e){var t=e.text;return Object(f.jsx)("div",{style:{width:"100vw",height:60,lineHeight:"60px",borderBottom:"1px solid #dfdfdf",fontFamily:"Times",fontSize:35,fontWeight:"600",textIndent:30,position:"fixed",top:0,zIndex:1e3,backgroundColor:"white"},children:t||"Graph Descriptor"})}function ge(e){return"string"===typeof e&&e.includes("@")?e=e.replace(/@(.*)/g,(function(e,t){return"[".concat(t,"]")})):"r"===e&&(e="radius"),e}function je(e){var t="",n="";if(e.type?(t=e.type,n=e.value):n=e,Array.isArray(n))return n.map((function(e){return"<span class='description-parameter ".concat(t,"'>").concat(ge(e),"</span>")}));if(n=ge(n),/^#(?:[0-9a-fA-F]{3}){1,2}$/.test(n)){var a=N(n);return"<span class='description-parameter ".concat(t,"'>").concat(a,"(<span style='color: ").concat(n,";'>&#9724;</span>").concat(n,")</span>")}return"<span class='description-parameter ".concat(t,"'>").concat(n,"</span>")}function xe(e){var t=e.title,n=Object(a.useState)(0),r=Object(s.a)(n,2),i=r[0],c=r[1],l=Object(a.useState)(!1),m=Object(s.a)(l,2),u=m[0],d=m[1],p=Object(a.useState)(""),h=Object(s.a)(p,2),v=h[0],x=h[1],O=Object(a.useState)(""),w=Object(s.a)(O,2),E=w[0],k=w[1],N=Object(a.useState)(document.createElement("svg")),S=Object(s.a)(N,2),M=S[0],I=S[1],A=Object(a.useState)([]),D=Object(s.a)(A,2),C=D[0],L=D[1],q=Object(a.useState)({}),W=Object(s.a)(q,2),z=W[0],Y=W[1],G=Object(a.useState)({}),J=Object(s.a)(G,2),R=J[0],U=J[1],Q=Object(a.useState)([]),te=Object(s.a)(Q,2),ae=te[0],ie=te[1],se=Object(V.g)().demo;return Object(a.useEffect)((function(){se&&function(e){return F.apply(this,arguments)}(se).then((function(e){var t=e.dataStr,n=e.codeStr,a=e.preload;if(x(t),k(n),a){var r=document.createElement("div");r.innerHTML=a.svg;var i=r.firstChild;I(i);var c=function(e){var t=[];return K.dfs(e,(function(e){re.has(e.tagName)&&t.push(e)})),t}(i),o=a.descriptions,s=a.layoutDescriptions;o.forEach((function(e){K.dfs(e,(function(e){e.elementsIdx&&(e.elements=e.elementsIdx.map((function(e){return c[e]})))}))})),s.forEach((function(e){K.dfs(e,(function(e){e.elementsIdx&&(e.elements=e.elementsIdx.map((function(e){return c[e]})))}))})),L(c),Y(o),U(s)}}))}),[se]),Object(a.useEffect)((function(){0!==i&&function(){try{var e=JSON.parse(v),t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.6,a=K.deepcopy(t),r=performance.now(),i=new Function("d3","data",e),c=i(g,K.deepcopy(a)),l=new le(c);console.log("%c Computing nodes' encodings...","background: #222; color: #bada55"),console.log("%c Computing links' encodings...","background: #222; color: #bada55");for(var m=be(a,i,"nodes"),u=Object(s.a)(m,2),d=u[0],f=u[1],p=be(a,i,"links"),h=Object(s.a)(p,2),v=h[0],b=h[1],y=[],j=function(e){var t;null===(t=v[e])||void 0===t||t.forEach((function(t){y[t],y[t]=e}))},x=0;x<v.length;x++)j(x);for(var O=function(e){var t,n=new Set;null===(t=d[e])||void 0===t||t.forEach((function(e){void 0===y[e]?n.add(e):delete f[e]})),d[e]=n},w=0;w<d.length;w++)O(w);var E=new Set;v.forEach((function(e){e.forEach((function(e){E.add(e)}))})),d.forEach((function(e){e.forEach((function(e){E.has(e)}))}));var k=ve(a,i,"nodes",d,f),N=ve(a,i,"links",v,b),S=[];function M(e,t,a){var r=[];return e.forEach((function(e){var i=Object(s.a)(e,2),c=i[0],o=i[1],l=[];o.tagName&&l.push("tagName"),o.style&&Object.entries(o.style).forEach((function(e){var t=Object(s.a)(e,2),n=t[0];t[1]&&l.push("".concat(n.split(".")[0]))})),l.forEach((function(e){var i;i="tagName"===e?o.tagName:o.style[e];var l={template:ce.channels2attribute(),parameters:[{type:oe.channel,value:[e]},{type:oe.attribute,value:c}],elements:t,elementsIdx:a,switch:!1,children:[]};i&&!0!==i&&("numerical"===i.typeX&&"numerical"===i.typeY&&Math.abs(i.correlation)>n?l.children.push({template:ce.correlationN2N(i.correlation>0),parameters:[{type:oe.channel,value:e},{type:oe.attribute,value:c}],elements:t,elementsIdx:a}):"numerical"===i.typeX&&"categorical"===i.typeY?Object.entries(i.attributeMapping).forEach((function(n){var r=Object(s.a)(n,2),i=r[0],o=r[1];l.children.push({template:ce.correlationN2C,parameters:[{type:oe.channel,value:e},{type:oe.attribute,value:c},{type:oe.value,value:i},{type:oe.value,value:o.min},{type:oe.value,value:o.max}],elements:t.filter((function(t){return"tagName"!==e?t.attributes[e].value==i:t.tagName==i})),elementsIdx:a.filter((function(n,a){return"tagName"!==e?t[a].attributes[e].value==i:t[a].tagName==i}))})})):"categorical"===i.typeX&&"categorical"===i.typeY&&i.attributeMapping&&Object.entries(i.attributeMapping).forEach((function(n){var r=Object(s.a)(n,2),i=r[0],o=r[1];l.children.push({template:ce.correlationC2C,parameters:[{type:oe.channel,value:e},{type:oe.attribute,value:c},{type:oe.value,value:i},{type:oe.value,value:o}],elements:t.filter((function(t){return"tagName"!==e?t.attributes[e].value==i:t.tagName==i})),elementsIdx:a.filter((function(n,a){return"tagName"!==e?t[a].attributes[e].value==i:t[a].tagName==i}))})}))),0==l.children.length&&l.children.push({template:ce.correlationUndefined,parameters:[{type:oe.channel,value:e},{type:oe.attribute,value:c}],elements:t,elementsIdx:a}),r.push(l)}))})),r}[{entityType:"node",entity2element:d,element2label:f,label2attr2diff:k},{entityType:"link",entity2element:v,element2label:b,label2attr2diff:N}].forEach((function(e){var t=e.entityType,n=e.entity2element,a=e.element2label,r=e.label2attr2diff,i=Object.keys(r).length,c=[],m=[];n.forEach((function(e){e&&e.forEach((function(e){m.push(e),c.push(l.basicElementArray[e].element)}))}));var u={template:ce.constituent(t,i),parameters:[{type:oe.entity,value:t},{type:oe.value,value:i}],elements:c,elementsIdx:m,switch:!0,children:[]};S.push(u);var d={},f={};for(var p in r){var h,v=r[p],b=JSON.stringify(v);d[b]=null!==(h=d[b])&&void 0!==h?h:new Set,d[b].add(p),f[p]=b}var y=1,g=function(e){var t=a.map((function(t,n){return t==e?n:void 0})).filter((function(e){return void 0!==e})),n=a.map((function(t,n){return t==e?l.basicElementArray[n].element:void 0})).filter((function(e){return e})),c=r[e],m=Array.from(new Set(a.map((function(t,n){return t==e?l.basicElementArray[n].tagName:void 0})).filter((function(e){return e})))).sort();if(1===m.length){var d={template:ce.onePrimitive(i),parameters:[ee(y),{type:oe.element,value:"&lt;".concat(m[0],"&gt;")}],elements:n,elementsIdx:t,switch:!0,children:[]};u.children.push(d),d.children=M(Object.entries(c),n,t)}else if(m.length>1){var f={template:ce.multiPrimitive(i),parameters:[ee(y),{type:oe.element,value:m.map((function(e){return"&lt;".concat(e,"&gt;")}))}],elements:n,elementsIdx:t,switch:!0,children:[]};u.children.push(f);var p={};M(Object.entries(c).reduce((function(e,t){var n=Object(s.a)(t,2),a=n[0],r=n[1];if(r.tagName)if("categorical"===r.tagName.typeX){var i=function(e){var t,n;p[e]=null!==(t=p[e])&&void 0!==t?t:{attrName:a},p[e].attrVal=null!==(n=p[e].attrVal)&&void 0!==n?n:new Set,r.tagName.attributeMapping[e].forEach((function(t){p[e].attrVal.add(t)}))};for(var c in r.tagName.attributeMapping)i(c)}else for(var o in r.tagName.attributeMapping){var l,m;p[o]=null!==(l=p[o])&&void 0!==l?l:{attrName:a},p[o].attrVal=null!==(m=p[o].attrVal)&&void 0!==m?m:{max:-1/0,min:1/0},p[o].attrVal.max=Math.max(p[o].attrVal.max,Number(r.tagName.attributeMapping.max)),p[o].attrVal.min=Math.min(p[o].attrVal.min,Number(r.tagName.attributeMapping.min))}var u={};if(r.style)for(var d in r.style){var f;ne.has(d)&&r.style[d]&&(u.style=null!==(f=u.style)&&void 0!==f?f:{},u.style[d]=r.style[d])}return Object.keys(u).length&&e.push([a,u]),e}),[]),n,t).forEach((function(e){u.children.push(e)})),m.forEach((function(e){var a=n.filter((function(t){return t.tagName===e})),r=t.filter((function(t,a){return n[a].tagName===e})),i="max"in p[e].attrVal&&"min"in p[e].attrVal?[p[e].attrVal.min,p[e].attrVal.max]:Array.from(p[e].attrVal),l={template:ce.multiPrimitiveTagName(p[e].attrVal),parameters:[{type:oe.element,value:"&lt;".concat(e,"&gt;")},{type:oe.attribute,value:p[e].attrName}].concat(Object(o.a)(i.map((function(e){return{type:oe.value,value:e}})))),elements:a,elementsIdx:r,switch:!0,children:[]};f.children.push(l);var m=Object.entries(c).reduce((function(t,n){var a=Object(s.a)(n,2),r=a[0],i=a[1],c={};if(i.style)for(var o in i.style){var l;o.split(".")[1]===e&&(o=o.split(".")[0]),re.get(e).has(o)&&!ne.has(o)&&(c.style=null!==(l=c.style)&&void 0!==l?l:{},c.style[o]=i.style[o])}return Object.keys(c).length&&t.push([r,c]),t}),[]);l.children=M(m,a,r)}))}y++};for(var j in r)g(j)}));var I=Array.from($(a).nodes.entries());document.body.appendChild(c);var A=c.getBoundingClientRect();d.forEach((function(e,t){var n=Array.from(e).map((function(e){return l.basicElementArray[e].element})),r={x:1/0,y:1/0},i={x:-1/0,y:-1/0};n.forEach((function(e){var t=e.getBoundingClientRect(),n=t.x-A.x,a=t.y-A.y;r.x=Math.min(r.x,n+t.width/2),i.x=Math.max(i.x,n+t.width/2),r.y=Math.min(r.y,a+t.height/2),i.y=Math.max(i.y,a+t.height/2)})),a.nodes[t].x=(i.x+r.x)/2,a.nodes[t].y=(i.y+r.y)/2})),document.body.removeChild(c);var T=performance.now();console.log("Computing time:",T-r,"ms");for(var D=l.basicElementArray.map((function(e){return e.element})),C=new Array(l.basicElementArray.length).fill().map((function(e,t){return t})),L=a.nodes.map((function(e){return e.x})),q=a.nodes.map((function(e){return e.y})),F=[],V=[],_=0;_<I.length;_++){var W=I[_][0],z=I[_][1].range,B=pe(L,z);Math.abs(null===B||void 0===B?void 0:B.correlation)>n&&F.push({name:W,type:(null===B||void 0===B?void 0:B.correlation)>0});var P=pe(q,z);Math.abs(null===P||void 0===P?void 0:P.correlation)>n&&V.push({name:W,type:(null===P||void 0===P?void 0:P.correlation)>0})}var X=[];F.length>0&&V.length>0&&[{axis:"x",attrs:F},{axis:"y",attrs:V}].forEach((function(e){var t=e.axis,n=e.attrs;X.push({template:function(e,t){return"The ".concat(e,"-coordinates encodes ").concat(t.length>1?"":"the"," attribute").concat(t.length>1?"":"s"," ").concat(Z(t))},parameters:[{type:oe.channel,value:t},{type:oe.attribute,value:n.map((function(e){return e.name}))}],elements:[],elementsIdx:[],children:n.map((function(e){return{template:function(t,n){return"The greater the ".concat(n," is, the ").concat(e.type?"greater\ud83d\udcc8":"smaller\ud83d\udcc9"," the ").concat(t,"-coordinate is.")},parameters:[{type:oe.channel,value:t},{type:oe.attribute,value:e.name}],elements:D,elementsIdx:C}}))})}));var H=he(a);return Math.abs(H)>.3?X.push({template:function(){return"The layout is a topology-based layout, which means the greater the graph geodesic distance between two nodes is, the greater the euclidean distance between them is."},parameters:[],elements:D,elementsIdx:C}):0===F.length&&0===V.length&&X.push({template:function(){return"The layout is neither an attribute-based layout nor a topology-based layout."},parameters:[],elements:D,elementsIdx:C}),{svg:c,allElements:D,allElementsIdx:C,descriptions:S,layoutDescriptions:X}}(E,e),n=t.svg,a=t.allElements,r=t.descriptions,i=t.layoutDescriptions;r.forEach((function(e){K.dfs(e,(function(e){e.content=e.template.apply(e,Object(o.a)(e.parameters.map(je)))}))})),i.forEach((function(e){K.dfs(e,(function(e){e.content=e.template.apply(e,Object(o.a)(e.parameters.map(je)))}))})),I(n),L(a),Y(r),U(i),d(!1)}catch(c){console.error("invalid code or dataset."),console.error(c)}}()}),[i]),Object(a.useEffect)((function(){try{var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.8,n=_(e),a={};e.nodes.forEach((function(e){a[e.id]=e}));var r=new Set;e.links.forEach((function(e){r.add("".concat(e.source,"+").concat(e.target)),r.add("".concat(e.target,"+").concat(e.source))}));var i={};Object.keys(a).forEach((function(e){Object.keys(a).forEach((function(t){var c="".concat(e,"+").concat(t);if(e!==t&&!r.has(c)){var o=B(a[e],a[t],n);i=P(i,o)}}))}));var c=null;e.links.forEach((function(e){var t=B(a[e.source],a[e.target],n);c=c?X(c,H(t,i)):H(t,i)}));var o=e.links.length,s=[];for(var l in c)for(var m in c[l])if("number"!==typeof c[l][m])for(var u in c[l][m])c[l][m][u]>o*t&&s.push({attribute:l,relation:m,value:u,frequency:c[l][m][u],coverage:c[l][m][u]/o});return s}(JSON.parse(v),.8);ie(e)}catch(t){console.error("Invalid dataset"),ie([])}}),[v]),Object(f.jsxs)("div",{style:{},children:[Object(f.jsx)(ye,{text:t}),Object(f.jsxs)("div",{style:{width:"80%",maxWidth:1e3,position:"absolute",left:"50%",transform:"translate(-50%)",marginTop:70,paddingBottom:70,display:"flex",flexDirection:"column"},children:[Object(f.jsx)(j,{style:{margin:5},svg:M}),Object(f.jsxs)("div",{style:{},children:[Object(f.jsx)(T,{loading:u,linkConditions:ae,graphDescriptions:z,layoutDescriptions:R,visibleElements:C}),Object(f.jsx)(b,{codeStr:E,setCodeStr:k,submit:function(){d(!0),c(i+1)},style:{}}),Object(f.jsx)(y,{dataStr:v,setDataStr:x,style:{}})]})]})]})}var Oe=n(91),we=n(129);n(123);function Ee(e){var t=e.title,n=e.image,a=e.children,r=e.route,i=Object(V.f)();return Object(f.jsxs)(we.a,{hoverable:!0,style:{width:270,margin:10,borderRadius:7},cover:Object(f.jsx)("img",{alt:t,src:n,style:{borderBottom:"1px #ddd solid",width:270,height:270,objectFit:"contain",borderRadius:"7px 7px 0 0"}}),onClick:function(){i.push(r)},children:[Object(f.jsx)(we.a.Meta,{style:{whiteSpace:"normal",height:60},title:t}),Object(f.jsx)("div",{style:{height:75,lineHeight:"25px",textOverflow:"ellipsis",overflow:"hidden"},children:a})]})}n(124);function ke(){return Object(f.jsxs)("div",{style:{backgroundColor:"#f5f5f5",display:"flex",alignItems:"center",flexDirection:"column",overflow:"initial"},children:[Object(f.jsx)(ye,{}),Object(f.jsxs)("div",{style:{width:"80%",maxWidth:1200,marginTop:80,marginBottom:80},children:[Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column",padding:"0 10px 0 10px"},children:[Object(f.jsx)("h1",{style:{fontFamily:"Times",fontSize:"30px",fontWeight:"600",borderBottom:"2px #000 solid"},children:"GraphDescriptor: An Automatic Description Generator for Node-Link Diagrams"}),Object(f.jsx)("p",{style:{fontFamily:"Times",fontSize:"1.2em"},children:"Node-link diagrams can effectively reveal relations and attributes of entities. However, non-professional users may have alow ability of reading visual forms or be unskilled in exploring cluttered diagrams. This paper presents GraphDescriptor, an automaticdescription generation approach for node-link diagrams. The key idea is to extract relevant information from both the underlying dataand the source code of visualization, and generate textual descriptions with a template-based scheme. We design and develop aninteractive interface for interactive specification, exploration and modulation of descriptions. Diverse examples and a user study verifythe utility and effectiveness of GraphDescriptor."})]}),Object(f.jsx)("div",{style:{fontFamily:"Times",fontSize:30,fontWeight:600,margin:"0 10px 10px 10px",height:50,borderBottom:"2px #000 solid"},children:"Gallary"}),Object(f.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[Object(f.jsxs)(Ee,{image:"./data/imdb-movies-raw/imdb-movies.png",title:"IMDb Dataset: Simple Nodes and Links",route:"/imdb-movies",children:["Two nodes are connected if their attributes"," ",Object(f.jsx)("span",{class:"description-parameter",children:"genre"})," have common values. Each"," ",Object(f.jsx)("span",{class:"description-parameter",children:"node"})," consists of only ",Object(f.jsx)("span",{class:"description-parameter",children:"1"})," ","element. It is a"," ",Object(f.jsx)("span",{class:"description-parameter",children:"<circle>"}),'. Its "',Object(f.jsx)("span",{class:"description-parameter",children:'"fill"'}),'" encodes the attribute'," ",Object(f.jsx)("span",{class:"description-parameter",children:"date_published"}),'. Its "',Object(f.jsx)("span",{class:"description-parameter",children:'"cx"'}),'" encodes the attribute'," ",Object(f.jsx)("span",{class:"description-parameter",children:"budget"}),'. Its "',Object(f.jsx)("span",{class:"description-parameter",children:'"cy"'}),'" encodes the attribute'," ",Object(f.jsx)("span",{class:"description-parameter",children:"worlwide_gross_income"}),". Each ",Object(f.jsx)("span",{class:"description-parameter",children:"link"})," ","consists of only"," ",Object(f.jsx)("span",{class:"description-parameter",children:"1"})," element. It is a"," ",Object(f.jsx)("span",{class:"description-parameter",children:"<line>"}),'. Its "',Object(f.jsx)("span",{class:"description-parameter",children:'"stroke-width"'}),'" encodes the attribute'," ",Object(f.jsx)("span",{class:"description-parameter",children:"common_genre"})]}),Object(f.jsxs)(Ee,{image:"./data/imdb-movies-shapes/imdb-movies-shapes.png",title:"IMDb Dataset: Nodes with Different Shapes",route:"/imdb-movies-shapes",children:["Two nodes are connected if their attributes"," ",Object(f.jsx)("span",{class:"description-parameter",children:"actors"}),' have common values. Its "tagName" is varying among multiple shapes:'," ",Object(f.jsx)("span",{class:"description-parameter",children:"<circle>"})," ","and"," ",Object(f.jsx)("span",{class:"description-parameter",children:"<rect>"}),". When it turns to"," ",Object(f.jsx)("span",{class:"description-parameter ",children:"<circle>"}),", its encodings are changed. Its"," ",Object(f.jsx)("span",{class:"description-parameter ",children:"r"})," encodes the attribute"," ",Object(f.jsx)("span",{class:"description-parameter ",children:"votes"}),"."]}),Object(f.jsxs)(Ee,{image:"./data/imdb-actors/imdb-actors.png",title:"IMDb Dataset: Line Charts Embeded on Nodes",route:"/imdb-actors",children:["Two nodes are connected if their attributes"," ",Object(f.jsx)("span",{class:"description-parameter",children:"movies"})," share an intersection. Each"," ",Object(f.jsx)("span",{class:"description-parameter",children:"node"})," consists of ",Object(f.jsx)("span",{class:"description-parameter",children:"5"})," ","different elements. The"," ",Object(f.jsx)("span",{class:"description-parameter",children:"first"})," element is a"," ",Object(f.jsx)("span",{class:"description-parameter",children:"<line>"}),". Its ",Object(f.jsx)("span",{class:"description-parameter",children:"y1"})," ","encodes the attribute"," ",Object(f.jsx)("span",{class:"description-parameter",children:"number_of_movies_by_year@2019"}),". Its ",Object(f.jsx)("span",{class:"description-parameter",children:"y2"})," ","encodes the attribute"," ",Object(f.jsx)("span",{class:"description-parameter",children:"number_of_movies_by_year@2020"}),"."]}),Object(f.jsxs)(Ee,{image:"./data/imdb-movies-link/imdb-movies-link.png",title:"IMDb Dataset: Bars on Links",route:"/imdb-movies-link",children:["Two nodes are connected if their attributes"," ",Object(f.jsx)("span",{class:"description-parameter",children:"year"})," are close, maybe with a difference less than:"," ",Object(f.jsx)("span",{class:"description-parameter",children:"5"}),". Each"," ",Object(f.jsx)("span",{class:"description-parameter",children:"node"})," consists of only ",Object(f.jsx)("span",{class:"description-parameter",children:"1"})," ","element. It is a"," ",Object(f.jsx)("span",{class:"description-parameter",children:"<circle>"}),". Its ",Object(f.jsx)("span",{class:"description-parameter",children:"r"})," ","encodes the attribute"," ",Object(f.jsx)("span",{class:"description-parameter",children:"avg_vote"}),"."]})]})]})]})}var Ne={"imdb-movies-shapes":"IMDb Dataset: Nodes with Different Shapes","imdb-movies":"IMDb Dataset: Simple Nodes and Links","imdb-actors":"IMDb Dataset: Line Charts Embeded on Nodes","imdb-movies-link":"IMDb Dataset: Bars on Links"};var Se=function(){return Object(f.jsx)(Oe.a,{children:Object(f.jsxs)(V.c,{children:[Object(f.jsx)(V.a,{exact:!0,path:"/",children:Object(f.jsx)(ke,{})}),Object(f.jsx)(V.a,{path:"/:demo",render:function(e){var t=e.match;return Object(f.jsx)(xe,{title:Ne[t.params.demo]})}})]})})},Me=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,131)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};c.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(Se,{})}),document.getElementById("root")),Me()},98:function(e,t,n){}},[[125,1,2]]]);
//# sourceMappingURL=main.eb6ccac4.chunk.js.map